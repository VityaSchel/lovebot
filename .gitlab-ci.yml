stages:
  - setup
  - build
  - deploy

image: docker:20.10.16
variables:
  DOCKER_BUILDKIT: 1

.docker_init_template:
  - docker login -u $DOCKER_REGISTRY_USER -p $DOCKER_REGISTRY_PASSWORD $DOCKER_REGISTRY

.ssh_init_template:
  - mkdir -p ~/.ssh
  - echo "$SSH_PRIVATE_KEY" | tr -d '\r' > ~/.ssh/id_rsa
  - chmod 600 ~/.ssh/id_rsa
  - chmod 700 ~/.ssh
  - echo "$SSH_KNOWN_HOSTS" >> ~/.ssh/known_hosts
  - chmod 644 ~/.ssh/known_hosts
  - eval $(ssh-agent -s)
  - ssh-add ~/.ssh/id_rsa

install:
  stage: setup
  services:
    - name: docker:20.10.16-dind
      command: ["--registry-mirror", "https://proxy-registry.skidstor.com"]
  cache:
    - key:
        files:
          - yarn.lock
      paths:
        - node_modules
      policy: pull-push
  before_script:
    - !reference [.docker_init_template]
  script:
    - mkdir -p node_modules

    - >
      docker build
      --file docker/node/Dockerfile
      --build-arg BUILDKIT_INLINE_CACHE=1
      --cache-from $DOCKER_REGISTRY_PATH:$CI_COMMIT_REF_NAME-install
      --target install
      --tag $DOCKER_REGISTRY_PATH:$CI_COMMIT_REF_NAME-install
      .

    - docker create --name node $DOCKER_REGISTRY_PATH:$CI_COMMIT_REF_NAME-install
    - docker cp node:/app/node_modules $CI_PROJECT_DIR/node

    - docker push $DOCKER_REGISTRY_PATH:$CI_COMMIT_REF_NAME-install

.build_template:
  stage: build
  services:
    - name: docker:20.10.16-dind
      command: ["--registry-mirror", "https://proxy-registry.skidstor.com"]
  cache:
    - key:
        files:
          - yarn.lock
      paths:
        - node_modules
      policy: pull
    - key: next-cache-${PROJECT_NAME}-${CI_COMMIT_REF_SLUG}
      paths:
        - .next/cache
      policy: pull-push
  #  variables:
  #    NEXT_PUBLIC_DATA_POLICY: https://disk.yandex.ru/i/1r8-2eCe5WuQeg
  #    NEXT_PUBLIC_TARIFES: https://disk.yandex.ru/i/QkdXA0uC9keJnA
  #    NEXT_PUBLIC_USER_AGREEMENT: https://disk.yandex.ru/i/MMr2_pXDMYtDTw
  before_script:
    - !reference [.docker_init_template]
  script:
    - ls -al
    - mkdir -p .next/cache

    - >
      docker build
      --file docker/node/Dockerfile
      --build-arg BUILDKIT_INLINE_CACHE=1
      --cache-from $DOCKER_REGISTRY_PATH:$CI_COMMIT_REF_NAME-install
      --cache-from $DOCKER_REGISTRY_PATH:$CI_COMMIT_REF_NAME-$PROJECT_NAME
      --target build
      --tag $DOCKER_REGISTRY_PATH:$CI_COMMIT_REF_NAME-$PROJECT_NAME
      --build-arg NEXT_PUBLIC_BACKEND_URL=$NEXT_PUBLIC_BACKEND_URL
      --build-arg NEXT_PUBLIC_DATA_POLICY=$NEXT_PUBLIC_DATA_POLICY
      --build-arg NEXT_PUBLIC_TARIFES=$NEXT_PUBLIC_TARIFES
      --build-arg NEXT_PUBLIC_USER_AGREEMENT=$NEXT_PUBLIC_USER_AGREEMENT
      --build-arg NEXT_PUBLIC_CONTACT_EMAIL=$NEXT_PUBLIC_CONTACT_EMAIL
      --build-arg NEXT_PUBLIC_BOT_LINK=$NEXT_PUBLIC_BOT_LINK
      --build-arg NEXT_PUBLIC_REDIRECT_AFTER_PAYMENT=$NEXT_PUBLIC_REDIRECT_AFTER_PAYMENT
      --build-arg NEXT_PUBLIC_TEXT_SECOND_CHECKBOX="$NEXT_PUBLIC_TEXT_SECOND_CHECKBOX"
      --build-arg NEXT_PUBLIC_MAIN_PAGE_TEXT_SUBSCRIPTION_PRICES="$NEXT_PUBLIC_MAIN_PAGE_TEXT_SUBSCRIPTION_PRICES"
      .

    - docker create --name main_page $DOCKER_REGISTRY_PATH:$CI_COMMIT_REF_NAME-$PROJECT_NAME
    - docker cp main_page:/app/.next/cache $CI_PROJECT_DIR/.next/cache

    - docker push $DOCKER_REGISTRY_PATH:$CI_COMMIT_REF_NAME-$PROJECT_NAME

.deploy_production_template:
  stage: deploy
  environment:
    name: production-${PROJECT_NAME}
  variables:
    COMPOSE_PROJECT_NAME: ${PROJECT_NAME}_main_page
    LANDING_IMAGE: $DOCKER_REGISTRY_PATH:$CI_COMMIT_REF_NAME-$PROJECT_NAME
    DOCKER_HOST: $DEPLOY_PROD_DOCKER_HOST
  before_script:
    - !reference [.ssh_init_template]
    - !reference [.docker_init_template]
  script:
    - docker compose pull main_page

    - docker compose up -d --wait
  rules:
    - if: $CI_COMMIT_BRANCH == "main"

build_loverbotxyz:
  extends: .build_template
  variables:
    PROJECT_NAME: loverbotxyz
    NEXT_PUBLIC_BACKEND_URL: https://api.loverbot.xyz
    NEXT_PUBLIC_DATA_POLICY: https://disk.yandex.ru/i/bUsF6dPCCOXRdQ
    NEXT_PUBLIC_TARIFES: https://disk.yandex.ru/i/xV5k3dTUsrS1AQ
    NEXT_PUBLIC_USER_AGREEMENT: https://disk.yandex.ru/i/SJdrU5VCz1LBNQ
    NEXT_PUBLIC_CONTACT_EMAIL: loverbot.xyz@proton.me
    NEXT_PUBLIC_BOT_LINK: https://vk.com/love____bot1
    NEXT_PUBLIC_REDIRECT_AFTER_PAYMENT: https://vk.me/love____bot1
    NEXT_PUBLIC_TEXT_SECOND_CHECKBOX: 10 рубль за получение пробного журнала. В дальнейшем, через 6 часов после получения пробного журнала, списывается 3290 рублей за каждый месяц использования сервиса. В случае нехватки средств, мы переведем вас на тариф со списаниями по 1690 руб каждые две недели, по 890 руб каждую неделю и 190 руб за каждые сутки.
    NEXT_PUBLIC_MAIN_PAGE_TEXT_SUBSCRIPTION_PRICES: Далее 3290 ₽ в месяц. В случае, если у пользователя не достаточно средств для оплаты подписки, он переводится на более дешевый тариф, который составляет 1690 руб. за 2 недели, либо 890 руб. за неделю, либо 190 руб. за день использования подписки.

build_payloverbotxyz:
  extends: .build_template
  variables:
    PROJECT_NAME: payloverbotxyz
    NEXT_PUBLIC_BACKEND_URL: https://apipay.loverbot.xyz
    NEXT_PUBLIC_DATA_POLICY: https://disk.yandex.ru/i/bUsF6dPCCOXRdQ
    NEXT_PUBLIC_TARIFES: https://disk.yandex.ru/i/Kefrm9kP2xMnlQ
    NEXT_PUBLIC_USER_AGREEMENT: https://disk.yandex.ru/i/xV5k3dTUsrS1AQ
    NEXT_PUBLIC_CONTACT_EMAIL: loverbot.xyz@proton.me
    NEXT_PUBLIC_BOT_LINK: https://vk.com/bot_probivshik
    NEXT_PUBLIC_REDIRECT_AFTER_PAYMENT: https://vk.me/bot_probivshik
    NEXT_PUBLIC_TEXT_SECOND_CHECKBOX: 10 рубль за получение пробного журнала. В дальнейшем, через 6 часов после получения пробного журнала, списывается 3290 рублей за каждый месяц использования сервиса. В случае нехватки средств, мы переведем вас на тариф со списаниями по 1690 руб каждые две недели, по 890 руб каждую неделю и 190 руб за каждые сутки.
    NEXT_PUBLIC_MAIN_PAGE_TEXT_SUBSCRIPTION_PRICES: Далее 3290 ₽ в месяц. В случае, если у пользователя не достаточно средств для оплаты подписки, он переводится на более дешевый тариф, который составляет 1690 руб. за 2 недели, либо 890 руб. за неделю, либо 190 руб. за день использования подписки.

build_healthyeatinglive:
  extends: .build_template
  variables:
    PROJECT_NAME: healthyeatinglive
    NEXT_PUBLIC_BACKEND_URL: https://api.healthyeating.live
    NEXT_PUBLIC_DATA_POLICY: https://disk.yandex.ru/i/bUsF6dPCCOXRdQ
    NEXT_PUBLIC_TARIFES: https://disk.yandex.ru/i/Kefrm9kP2xMnlQ
    NEXT_PUBLIC_USER_AGREEMENT: https://disk.yandex.ru/i/xV5k3dTUsrS1AQ
    NEXT_PUBLIC_CONTACT_EMAIL: loverbot.xyz@proton.me
    NEXT_PUBLIC_BOT_LINK: https://vk.com/probivator
    NEXT_PUBLIC_REDIRECT_AFTER_PAYMENT: https://vk.me/probivator
    NEXT_PUBLIC_TEXT_SECOND_CHECKBOX: 10 рубль за получение пробного журнала. В дальнейшем, через 6 часов после получения пробного журнала, списывается 3290 рублей за каждый месяц использования сервиса. В случае нехватки средств, мы переведем вас на тариф со списаниями по 1690 руб каждые две недели, по 890 руб каждую неделю и 190 руб за каждые сутки.
    NEXT_PUBLIC_MAIN_PAGE_TEXT_SUBSCRIPTION_PRICES: Далее 3290 ₽ в месяц. В случае, если у пользователя не достаточно средств для оплаты подписки, он переводится на более дешевый тариф, который составляет 1690 руб. за 2 недели, либо 890 руб. за неделю, либо 190 руб. за день использования подписки.

build_dietaquest:
  extends: .build_template
  variables:
    PROJECT_NAME: dietaquest
    NEXT_PUBLIC_BACKEND_URL: https://api.dieta.quest
    NEXT_PUBLIC_DATA_POLICY: https://disk.yandex.ru/i/bUsF6dPCCOXRdQ
    NEXT_PUBLIC_TARIFES: https://disk.yandex.ru/i/Kefrm9kP2xMnlQ
    NEXT_PUBLIC_USER_AGREEMENT: https://disk.yandex.ru/i/xV5k3dTUsrS1AQ
    NEXT_PUBLIC_CONTACT_EMAIL: loverbot.xyz@proton.me
    NEXT_PUBLIC_BOT_LINK: https://vk.com/botprobiv
    NEXT_PUBLIC_REDIRECT_AFTER_PAYMENT: https://vk.me/botprobiv
    NEXT_PUBLIC_TEXT_SECOND_CHECKBOX: 10 рубль за получение пробного журнала. В дальнейшем, через 6 часов после получения пробного журнала, списывается 3290 рублей за каждый месяц использования сервиса. В случае нехватки средств, мы переведем вас на тариф со списаниями по 1690 руб каждые две недели, по 890 руб каждую неделю и 190 руб за каждые сутки.
    NEXT_PUBLIC_MAIN_PAGE_TEXT_SUBSCRIPTION_PRICES: Далее 3290 ₽ в месяц. В случае, если у пользователя не достаточно средств для оплаты подписки, он переводится на более дешевый тариф, который составляет 1690 руб. за 2 недели, либо 890 руб. за неделю, либо 190 руб. за день использования подписки.

build_lovebotinfo:
  extends: .build_template
  variables:
    PROJECT_NAME: lovebotinfo
    NEXT_PUBLIC_BACKEND_URL: https://api.love-bot.info
    NEXT_PUBLIC_DATA_POLICY: https://disk.yandex.ru/i/bUsF6dPCCOXRdQ
    NEXT_PUBLIC_TARIFES: https://disk.yandex.ru/i/Kefrm9kP2xMnlQ
    NEXT_PUBLIC_USER_AGREEMENT: https://disk.yandex.ru/i/xV5k3dTUsrS1AQ
    NEXT_PUBLIC_CONTACT_EMAIL: loverbot.xyz@proton.me
    NEXT_PUBLIC_BOT_LINK: https://vk.com/public215584161
    NEXT_PUBLIC_REDIRECT_AFTER_PAYMENT: https://vk.me/public215584161
    NEXT_PUBLIC_TEXT_SECOND_CHECKBOX: 10 рубль за получение пробного журнала. В дальнейшем, через 6 часов после получения пробного журнала, списывается 3290 рублей за каждый месяц использования сервиса. В случае нехватки средств, мы переведем вас на тариф со списаниями по 1690 руб каждые две недели, по 890 руб каждую неделю и 190 руб за каждые сутки.
    NEXT_PUBLIC_MAIN_PAGE_TEXT_SUBSCRIPTION_PRICES: Далее 3290 ₽ в месяц. В случае, если у пользователя не достаточно средств для оплаты подписки, он переводится на более дешевый тариф, который составляет 1690 руб. за 2 недели, либо 890 руб. за неделю, либо 190 руб. за день использования подписки.

build_xlovebotxyz:
  extends: .build_template
  variables:
    PROJECT_NAME: xlovebotxyz
    NEXT_PUBLIC_BACKEND_URL: https://api.xlovebot.xyz
    NEXT_PUBLIC_DATA_POLICY: https://disk.yandex.ru/i/bUsF6dPCCOXRdQ
    NEXT_PUBLIC_TARIFES: https://disk.yandex.ru/i/Kefrm9kP2xMnlQ
    NEXT_PUBLIC_USER_AGREEMENT: https://disk.yandex.ru/i/xV5k3dTUsrS1AQ
    NEXT_PUBLIC_CONTACT_EMAIL: loverbot.xyz@proton.me
    NEXT_PUBLIC_BOT_LINK: https://vk.com/public215584161
    NEXT_PUBLIC_REDIRECT_AFTER_PAYMENT: https://vk.me/public215584161
    NEXT_PUBLIC_TEXT_SECOND_CHECKBOX: 10 рубль за получение пробного журнала. В дальнейшем, через 6 часов после получения пробного журнала, списывается 3290 рублей за каждый месяц использования сервиса. В случае нехватки средств, мы переведем вас на тариф со списаниями по 1690 руб каждые две недели, по 890 руб каждую неделю и 190 руб за каждые сутки.
    NEXT_PUBLIC_MAIN_PAGE_TEXT_SUBSCRIPTION_PRICES: Далее 3290 ₽ в месяц. В случае, если у пользователя не достаточно средств для оплаты подписки, он переводится на более дешевый тариф, который составляет 1690 руб. за 2 недели, либо 890 руб. за неделю, либо 190 руб. за день использования подписки.

build_pay-love-botxyz:
  extends: .build_template
  variables:
    PROJECT_NAME: pay-love-botxyz
    NEXT_PUBLIC_BACKEND_URL: https://api.pay-love-bot.xyz
    NEXT_PUBLIC_DATA_POLICY: https://disk.yandex.ru/i/bUsF6dPCCOXRdQ
    NEXT_PUBLIC_TARIFES: https://disk.yandex.ru/i/Kefrm9kP2xMnlQ
    NEXT_PUBLIC_USER_AGREEMENT: https://disk.yandex.ru/i/xV5k3dTUsrS1AQ
    NEXT_PUBLIC_CONTACT_EMAIL: loverbot.xyz@proton.me
    NEXT_PUBLIC_BOT_LINK: https://vk.com/public215584161
    NEXT_PUBLIC_REDIRECT_AFTER_PAYMENT: https://vk.me/public215584161
    NEXT_PUBLIC_TEXT_SECOND_CHECKBOX: 10 рубль за получение пробного журнала. В дальнейшем, через 6 часов после получения пробного журнала, списывается 3290 рублей за каждый месяц использования сервиса. В случае нехватки средств, мы переведем вас на тариф со списаниями по 1690 руб каждые две недели, по 890 руб каждую неделю и 190 руб за каждые сутки.
    NEXT_PUBLIC_MAIN_PAGE_TEXT_SUBSCRIPTION_PRICES: Далее 3290 ₽ в месяц. В случае, если у пользователя не достаточно средств для оплаты подписки, он переводится на более дешевый тариф, который составляет 1690 руб. за 2 недели, либо 890 руб. за неделю, либо 190 руб. за день использования подписки.

build_loverbotpayxyz:
  extends: .build_template
  variables:
    PROJECT_NAME: loverbotpayxyz
    NEXT_PUBLIC_BACKEND_URL: https://api.loverbotpay.xyz
    NEXT_PUBLIC_DATA_POLICY: https://disk.yandex.ru/i/bUsF6dPCCOXRdQ
    NEXT_PUBLIC_TARIFES: https://disk.yandex.ru/i/Kefrm9kP2xMnlQ
    NEXT_PUBLIC_USER_AGREEMENT: https://disk.yandex.ru/i/xV5k3dTUsrS1AQ
    NEXT_PUBLIC_CONTACT_EMAIL: loverbot.xyz@proton.me
    NEXT_PUBLIC_BOT_LINK: https://vk.com/public215584161
    NEXT_PUBLIC_REDIRECT_AFTER_PAYMENT: https://vk.me/public215584161
    NEXT_PUBLIC_TEXT_SECOND_CHECKBOX: 10 рубль за получение пробного журнала. В дальнейшем, через 6 часов после получения пробного журнала, списывается 3290 рублей за каждый месяц использования сервиса. В случае нехватки средств, мы переведем вас на тариф со списаниями по 1690 руб каждые две недели, по 890 руб каждую неделю и 190 руб за каждые сутки.
    NEXT_PUBLIC_MAIN_PAGE_TEXT_SUBSCRIPTION_PRICES: Далее 3290 ₽ в месяц. В случае, если у пользователя не достаточно средств для оплаты подписки, он переводится на более дешевый тариф, который составляет 1690 руб. за 2 недели, либо 890 руб. за неделю, либо 190 руб. за день использования подписки.

build_lovebotvkxyz:
  extends: .build_template
  variables:
    PROJECT_NAME: lovebotvkxyz
    NEXT_PUBLIC_BACKEND_URL: https://api.lovebotvk.xyz
    NEXT_PUBLIC_DATA_POLICY: https://disk.yandex.ru/i/bUsF6dPCCOXRdQ
    NEXT_PUBLIC_TARIFES: https://disk.yandex.ru/i/Kefrm9kP2xMnlQ
    NEXT_PUBLIC_USER_AGREEMENT: https://disk.yandex.ru/i/xV5k3dTUsrS1AQ
    NEXT_PUBLIC_CONTACT_EMAIL: loverbot.xyz@proton.me
    NEXT_PUBLIC_BOT_LINK: https://vk.com/public215584161
    NEXT_PUBLIC_REDIRECT_AFTER_PAYMENT: https://vk.me/public215584161
    NEXT_PUBLIC_TEXT_SECOND_CHECKBOX: 10 рубль за получение пробного журнала. В дальнейшем, через 6 часов после получения пробного журнала, списывается 3290 рублей за каждый месяц использования сервиса. В случае нехватки средств, мы переведем вас на тариф со списаниями по 1690 руб каждые две недели, по 890 руб каждую неделю и 190 руб за каждые сутки.
    NEXT_PUBLIC_MAIN_PAGE_TEXT_SUBSCRIPTION_PRICES: Далее 3290 ₽ в месяц. В случае, если у пользователя не достаточно средств для оплаты подписки, он переводится на более дешевый тариф, который составляет 1690 руб. за 2 недели, либо 890 руб. за неделю, либо 190 руб. за день использования подписки.

#@vk_pr
build_paylovebotxyz:
  extends: .build_template
  variables:
    PROJECT_NAME: paylovebotxyz
    NEXT_PUBLIC_BACKEND_URL: https://api.paylovebot.xyz
    NEXT_PUBLIC_DATA_POLICY: https://disk.yandex.ru/i/bUsF6dPCCOXRdQ
    NEXT_PUBLIC_TARIFES: https://disk.yandex.ru/i/Kefrm9kP2xMnlQ
    NEXT_PUBLIC_USER_AGREEMENT: https://disk.yandex.ru/i/xV5k3dTUsrS1AQ
    NEXT_PUBLIC_CONTACT_EMAIL: loverbot.xyz@proton.me
    NEXT_PUBLIC_BOT_LINK: https://vk.com/ibotprobiv
    NEXT_PUBLIC_REDIRECT_AFTER_PAYMENT: https://vk.me/public215584161
    NEXT_PUBLIC_TEXT_SECOND_CHECKBOX: 10 рубль за получение пробного журнала. В дальнейшем, через 6 часов после получения пробного журнала, списывается 3290 рублей за каждый месяц использования сервиса. В случае нехватки средств, мы переведем вас на тариф со списаниями по 1690 руб каждые две недели, по 890 руб каждую неделю и 190 руб за каждые сутки.
    NEXT_PUBLIC_MAIN_PAGE_TEXT_SUBSCRIPTION_PRICES: Далее 3290 ₽ в месяц. В случае, если у пользователя не достаточно средств для оплаты подписки, он переводится на более дешевый тариф, который составляет 1690 руб. за 2 недели, либо 890 руб. за неделю, либо 190 руб. за день использования подписки.

build_paylovebot1xyz:
  extends: .build_template
  variables:
    PROJECT_NAME: paylovebot1xyz
    NEXT_PUBLIC_BACKEND_URL: https://api.paylovebot1.xyz
    NEXT_PUBLIC_DATA_POLICY: https://disk.yandex.ru/i/bUsF6dPCCOXRdQ
    NEXT_PUBLIC_TARIFES: https://disk.yandex.ru/i/Kefrm9kP2xMnlQ
    NEXT_PUBLIC_USER_AGREEMENT: https://disk.yandex.ru/i/xV5k3dTUsrS1AQ
    NEXT_PUBLIC_CONTACT_EMAIL: loverbot.xyz@proton.me
    NEXT_PUBLIC_BOT_LINK: https://vk.com/ibotprobiv
    NEXT_PUBLIC_REDIRECT_AFTER_PAYMENT: https://vk.me/public215584161
    NEXT_PUBLIC_TEXT_SECOND_CHECKBOX: 10 рубль за получение пробного журнала. В дальнейшем, через 6 часов после получения пробного журнала, списывается 3290 рублей за каждый месяц использования сервиса. В случае нехватки средств, мы переведем вас на тариф со списаниями по 1690 руб каждые две недели, по 890 руб каждую неделю и 190 руб за каждые сутки.
    NEXT_PUBLIC_MAIN_PAGE_TEXT_SUBSCRIPTION_PRICES: Далее 3290 ₽ в месяц. В случае, если у пользователя не достаточно средств для оплаты подписки, он переводится на более дешевый тариф, который составляет 1690 руб. за 2 недели, либо 890 руб. за неделю, либо 190 руб. за день использования подписки.

deploy_production_loverbotxyz:
  extends: .deploy_production_template
  variables:
    PROJECT_NAME: loverbotxyz
    VIRTUAL_HOST: loverbot.xyz

deploy_production_payloverbotxyz:
  extends: .deploy_production_template
  variables:
    PROJECT_NAME: payloverbotxyz
    VIRTUAL_HOST: pay.loverbot.xyz

deploy_production_healthyeatinglive:
  extends: .deploy_production_template
  variables:
    PROJECT_NAME: healthyeatinglive
    VIRTUAL_HOST: healthyeating.live

deploy_production_dietaquest:
  extends: .deploy_production_template
  variables:
    PROJECT_NAME: dietaquest
    VIRTUAL_HOST: dieta.quest

deploy_production_lovebotinfo:
  extends: .deploy_production_template
  variables:
    PROJECT_NAME: lovebotinfo
    VIRTUAL_HOST: love-bot.info

deploy_production_xlovebotxyz:
  extends: .deploy_production_template
  variables:
    PROJECT_NAME: xlovebotxyz
    VIRTUAL_HOST: xlovebot.xyz

deploy_production_pay-love-botxyz:
  extends: .deploy_production_template
  variables:
    PROJECT_NAME: pay-love-botxyz
    VIRTUAL_HOST: pay-love-bot.xyz

deploy_production_loverbotpayxyz:
  extends: .deploy_production_template
  variables:
    PROJECT_NAME: loverbotpayxyz
    VIRTUAL_HOST: loverbotpay.xyz

deploy_production_lovebotvkxyz:
  extends: .deploy_production_template
  variables:
    PROJECT_NAME: lovebotvkxyz
    VIRTUAL_HOST: lovebotvk.xyz

deploy_production_paylovebotxyz:
  extends: .deploy_production_template
  variables:
    PROJECT_NAME: paylovebotxyz
    VIRTUAL_HOST: paylovebot.xyz

deploy_production_paylovebot1xyz:
  extends: .deploy_production_template
  variables:
    PROJECT_NAME: paylovebot1xyz
    VIRTUAL_HOST: paylovebot1.xyz